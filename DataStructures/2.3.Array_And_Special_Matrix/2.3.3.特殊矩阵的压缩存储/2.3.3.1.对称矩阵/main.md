# 对称矩阵

若对一个 n 阶方阵$A[1...n][1...n]$中的任意一个元素$A[i][j]$，都
有$A[i][j]=A[j][i]$，则称该矩阵为对称矩阵。对于一个 n 阶方阵，其中的元素可以划分
为三个部分，分别是对角线上的元素，上三角元素和下三角元素。对称矩阵中，对角线上的
元素不会改变，而上三角元素和下三角元素是相互对应的，即$A[i][j]=A[j][i]$。

对于 n 阶对称矩阵，上三角区的所有元素和下三角区的对应元素相同，若仍采用二维数组
存放，则会浪费几乎一半的空间，为此将对称矩阵$A[1...n][1...n]$压缩为一个一维数
组$B[1...n(n+1)/2]$，使得$B[1]$存放$A[1][1]$，$B[2]$存放$A[1][2]$，$B[3]$存
放$A[2][2]$，$B[4]$存放$A[1][3]$，$B[5]$存放$A[2][3]$，$B[6]$存放$A[3][3]$，以此
类推。这样，对称矩阵的存储空间减少了一半。

在数组 B 中，位于元素 $A[i][j]\quad(i \geq j)$ 前面的元素个数为

-   第一行：一个元素 $A[1][1]$
-   第二行：2 个元素 $A[2][1],A[2][2]$
-   ...
-   第 i - 1 行：i-1 个元素 $A[i-1][1],A[i-1][2],...,A[i-1][i-1]$
-   第 i 行：i 个元素 $A[i][1],A[i][2],...,A[i][i]$

因此，元素 $A[i][j]$ 在数组 B 中的下标为 $k=1+2+...+(i-1)+j=(i-1)i/2+j-1$，（数
组下标从 0 开始）因此元素下标之间的对应关系为

$$
k=\left\{
\begin{array}{ll}
\frac {i(i-1)}2 + j - 1 &  i \geq j \\
\frac {j(j-1)}2 + i - 1 &  i < j
\end{array}
\right.
$$

当数组下标从 1 开始时，可以采用同样的推导方法。
