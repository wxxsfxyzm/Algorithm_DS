# 栈在表达式求值中的应用

表达式求值是程序设计语言编译中一个最基本的问题，他的实现是栈应用的一个典型范例。中缀表达式不仅依赖运算符的优先级，而且还要处理括号。后缀表达式的运算符在操作数后面，在后缀表达式中已经考虑了运算符发优先级，没有括号，只有操作数和运算符。

中缀表达式

```
A+B*(C-D)-E/F
```

所对应的后缀表达式为

```
ABCD-*+EF/-
```

[中缀表达式转化为后缀表达式](./中缀转后缀.md)

后缀表达式与原运算式对应的表达式树的后序遍历一致

```
    -
   / \
  +   /
 / \  E
A   *
   / \
  B   -
     / \
    C   D
```

后序遍历序列：`A B C D - * + E F / -`

通过后缀表示计算表达式值的过程为：顺序扫描表达式的每一项，然后根据它的类型做如下相应操作：
若该项是操作数，则将其压入栈中；若该项是操作符 `op`，则从栈中弹出两个操作数 `X` 和 `Y`，然后计算 `X op Y` 的值，并将结果压入栈中。重复这个过程，直到表达式的最后一项，此时栈中只有一个元素，栈顶元素即表达式的值。
