# C++ 操作符

C++ 内置了丰富的运算符，并提供了以下类型的运算符：

- 算术运算符
- 关系运算符
- 逻辑运算符
- 位运算符
- 赋值运算符
- 杂项运算符

## 算术运算符

算术运算符用于执行基本的数学运算，如加法、减法、乘法、除法等。C++ 支持以下算术运算符：
| 运算符 | 描述 | 实例 |
| ------ | ---------------------------- | ------------------- |
| `+` | 把两个操作数相加 | `A + B` 将得到 30 |
| `-` | 从第一个操作数中减去第二个操作数 | `A - B` 将得到 -10 |
| `_` | 把两个操作数相乘 | `A _ B` 将得到 200 |
| `/` | 分子除以分母 | `B / A` 将得到 2 |
| `%` | 取模运算符，整除后的余数 | `B % A` 将得到 0 |
| `++` | 自增运算符，整数值增加 1 | `A++` 将得到 11 |
| `--` | 自减运算符，整数值减少 1 | `A--` 将得到 9 |
**实例**

```cpp
#include <iostream>
using namespace std;

int main()
{
   int a = 21;
   int b = 10;
   int c;

   c = a + b;
   cout << "Line 1 - c 的值是 " << c << endl ;
   c = a - b;
   cout << "Line 2 - c 的值是 " << c << endl ;
   c = a * b;
   cout << "Line 3 - c 的值是 " << c << endl ;
   c = a / b;
   cout << "Line 4 - c 的值是 " << c << endl ;
   c = a % b;
   cout << "Line 5 - c 的值是 " << c << endl ;

   int d = 10;   //  测试自增、自减
   c = d++;
   cout << "Line 6 - c 的值是 " << c << endl ;

   d = 10;    // 重新赋值
   c = d--;
   cout << "Line 7 - c 的值是 " << c << endl ;
   return 0;
}
```

**注意 1**：`++` 和 `--` 运算符可以用作前缀或后缀运算符。如果运算符在操作数之前，则称为前缀运算符，如果运算符在操作数之后，则称为后缀运算符。

## 关系运算符

关系运算符用于比较两个值。C++ 支持以下关系运算符：
| 运算符 | 描述 | 实例 |
| ------ | ---------------------------- | ------------------- |
| `==` | 检查两个操作数的值是否相等，如果相等则条件为真 | `(A == B)` 为假。 |
| `!=` | 检查两个操作数的值是否相等，如果不相等则条件为真 | `(A != B)` 为真。 |
| `>` | 检查左操作数的值是否大于右操作数的值，如果是则条件为真 | `(A > B)` 为假。 |
| `<` | 检查左操作数的值是否小于右操作数的值，如果是则条件为真 | `(A < B)` 为真。 |
| `>=` | 检查左操作数的值是否大于或等于右操作数的值，如果是则条件为真 | `(A >= B)` 为假。 |
| `<=` | 检查左操作数的值是否小于或等于右操作数的值，如果是则条件为真 | `(A <= B)` 为真。 |

**实例**

```cpp
#include <iostream>
using namespace std;

int main()
{
   int a = 21;
   int b = 10;
   int c ;

   if( a == b )
   {
      cout << "Line 1 - a 等于 b" << endl ;
   }
   else
   {
      cout << "Line 1 - a 不等于 b" << endl ;
   }
   if ( a < b )
   {
      cout << "Line 2 - a 小于 b" << endl ;
   }
   else
   {
      cout << "Line 2 - a 不小于 b" << endl ;
   }
   if ( a > b )
   {
      cout << "Line 3 - a 大于 b" << endl ;
   }
   else
   {
      cout << "Line 3 - a 不大于 b" << endl ;
   }
   /* 改变 a 和 b 的值 */
   a = 5;
   b = 20;
   if ( a <= b )
   {
      cout << "Line 4 - a 小于或等于 b" << endl ;
   }
   if ( b >= a )
   {
      cout << "Line 5 - b 大于或等于 a" << endl ;
   }
   return 0;
}
```

**注意 1**：关系运算符返回 `true`（1）或 `false`（0）。

## 逻辑运算符

逻辑运算符用于组合多个条件。C++ 支持以下逻辑运算符：
| 运算符 | 描述 | 实例 |
| ------ | ---------------------------- | ------------------- |
| `&&` | 逻辑与。如果两个操作数都非零，则条件为真 | (A && B) 为假。 |
| `\|\|` | 逻辑或。如果两个操作数中有任意一个非零，则条件为真 | (A \|\| B) 为真。 |
| `!` | 逻辑非。用于反转操作数的逻辑状态。如果条件为真，则逻辑非为假 | !(A && B) 为真。 |

**实例**

```cpp
#include <iostream>
using namespace std;

int main()
{
   int a = 5;
   int b = 20;
   int c ;

   if ( a && b )
   {
      cout << "Line 1 - 条件为真"<< endl ;
   }
   if ( a || b )
   {
      cout << "Line 2 - 条件为真"<< endl ;
   }
   /* 改变 a 和 b 的值 */
   a = 0;
   b = 10;
   if ( a && b )
   {
      cout << "Line 3 - 条件为真"<< endl ;
   }
   else
   {
      cout << "Line 4 - 条件不为真"<< endl ;
   }
   if ( !(a && b) )
   {
      cout << "Line 5 - 条件为真"<< endl ;
   }
   return 0;
}
```

## 位运算符

位运算符用于对整数类型的数据进行位操作。C++ 支持以下位运算符：
| 运算符 | 描述 | 实例 |
| ------ | ---------------------------- | ------------------- |
| `&` | 按位与。对两个操作数的每个位执行逻辑与操作 | (A & B) 为 12，即为 0000 1100 |
| `\|` | 按位或。对两个操作数的每个位执行逻辑或操作 | (A \| B) 为 61，即为 0011 1101 |
| `^` | 按位异或。对两个操作数的每个位执行逻辑异或操作 | (A ^ B) 为 49，即为 0011 0001 |
| `~` | 按位取反。对操作数的每个位执行逻辑取反操作 | (~A ) 为 -61，即为 1100 0011，一个有符号二进制数的补码 |
| `<<` | 左移。将左操作数的各位向左移动指定的位数 | A << 2 为 240，即为 1111 0000 |
| `>>` | 右移。将左操作数的各位向右移动指定的位数 | A >> 2 为 15，即为 0000 1111 |

**实例**

```cpp
#include <iostream>
using namespace std;

int main()
{
   unsigned int a = 60;      // 60 = 0011 1100
   unsigned int b = 13;      // 13 = 0000 1101
   int c = 0;

   c = a & b;             // 12 = 0000 1100
   cout << "Line 1 - c 的值是 " << c << endl ;

   c = a | b;             // 61 = 0011 1101
   cout << "Line 2 - c 的值是 " << c << endl ;

   c = a ^ b;             // 49 = 0011 0001
   cout << "Line 3 - c 的值是 " << c << endl ;

   c = ~a;                // -61 = 1100 0011
   cout << "Line 4 - c 的值是 " << c << endl ;

   c = a << 2;            // 240 = 1111 0000
   cout << "Line 5 - c 的值是 " << c << endl ;

   c = a >> 2;            // 15 = 0000 1111
   cout << "Line 6 - c 的值是 " << c << endl ;

   return 0;
}
```

## 赋值运算符

赋值运算符用于为变量赋值。C++ 支持以下赋值运算符：
| 运算符 | 描述 | 实例 |
| ------ | ---------------------------- | ------------------- |
| `=` | 简单的赋值运算符，把右操作数的值赋给左操作数 | `C = A + B` 将把 `A + B` 的值赋给 `C` |
| `+=` | 加法赋值运算符，它把左操作数和右操作数相加后赋值给左操作数 | `C += A` 相当于 `C = C + A` |
| `-=` | 减法赋值运算符，它把左操作数和右操作数相减后赋值给左操作数 | `C -= A` 相当于 `C = C - A` |
| `_=` | 乘法赋值运算符，它把左操作数和右操作数相乘后赋值给左操作数 | `C _= A` 相当于 `C = C \* A` |
| `/=` | 除法赋值运算符，它把左操作数和右操作数相除后赋值给左操作数 | `C /= A` 相当于 `C = C / A` |
| `%=` | 取模赋值运算符，它把左操作数和右操作数取模后赋值给左操作数 | `C %= A` 相当于 `C = C % A` |
| `<<=` | 左移赋值运算符 | `C <<= 2` 相当于 `C = C << 2` |
| `>>=` | 右移赋值运算符 | `C >>= 2` 相当于 `C = C >> 2` |
| `&=` | 按位与赋值运算符 | `C &= 2` 相当于 `C = C & 2` |
| `\|=` | 按位或赋值运算符 | `C \|= 2` 相当于 `C = C \| 2` |
| `^=` | 按位异或赋值运算符 | `C ^= 2` 相当于 `C = C ^ 2` |

**实例**

```cpp
#include <iostream>
using namespace std;

int main()
{
   int a = 21;
   int c ;

   c =  a;
   cout << "Line 1 - =  运算符实例，c 的值 = : " <<c<< endl ;

   c +=  a;
   cout << "Line 2 - += 运算符实例，c 的值 = : " <<c<< endl ;

   c -=  a;
   cout << "Line 3 - -= 运算符实例，c 的值 = : " <<c<< endl ;

   c *=  a;
   cout << "Line 4 - *= 运算符实例，c 的值 = : " <<c<< endl ;

   c /=  a;
   cout << "Line 5 - /= 运算符实例，c 的值 = : " <<c<< endl ;

   c  = 200;
   c %=  a;
   cout << "Line 6 - %= 运算符实例，c 的值 = : " <<c<< endl ;

   c <<=  2;
   cout << "Line 7 - <<= 运算符实例，c 的值 = : " <<c<< endl ;

   c >>=  2;
   cout << "Line 8 - >>= 运算符实例，c 的值 = : " <<c<< endl ;

   c &=  2;
   cout << "Line 9 - &= 运算符实例，c 的值 = : " <<c<< endl ;

   c ^=  2;
   cout << "Line 10 - ^= 运算符实例，c 的值 = : " <<c<< endl ;

   c |=  2;
   cout << "Line 11 - |= 运算符实例，c 的值 = : " <<c<< endl ;

   return 0;
}
```

## 杂项运算符

C++ 支持以下杂项运算符：
| 运算符 | 描述 | 实例 |
| ------ | ---------------------------- | ------------------- |
| [sizeof()](../1.1.BasicDataType/CppBasicDataType.md#sizeof-关键字) | 返回变量的大小（字节数） | `sizeof(a)` 将返回 4，其中 a 是整数 |
| `&` | 返回变量的地址 | `&a` 将给出变量的实际地址 |
| `*` | 指针变量 | `*a` 将指向一个变量 |
| `Condition? X : Y` | 条件运算符 | 如果条件为真 ? 则值为 X : 否则值为 Y |
| `,` | 逗号运算符 | 用于在 for 循环中使用多个变量 |
| `.` | 成员运算符 | 用于引用一个类的成员 |
| `->` | 指向成员运算符 | 用于通过指针访问类的成员 |
| `(type)` | 强制类型转换 | `(int) 3.14` 将返回 3 |

## 运算符优先级

当多个运算符出现在一个表达式中时，C++ 会根据运算符的优先级来计算表达式的值。以下是 C++ 运算符的优先级，按照从高到低的顺序排列：
| 优先级 | 运算符 | 描述 |
| ------ | ------ | ---------------------------- |
| 1 | `::` | 作用域解析 |
| 2 | `++` `--` | 自增和自减 |
| 3 | `!` `~` | 逻辑非和按位取反 |
| 4 | `*` `/` `%` | 乘法、除法和取模 |
| 5 | `+` `-` | 加法和减法 |
| 6 | `<<` `>>` | 左移和右移 |
| 7 | `<` `<=` `>` `>=` | 关系运算符 |
| 8 | `==` `!=` | 相等和不等 |
| 9 | `&` | 按位与 |
| 10 | `^` | 按位异或 |
| 11 | `\|` | 按位或 |
| 12 | `&&` | 逻辑与 |
| 13 | `\|\|` | 逻辑或 |
| 14 | `?:` | 条件运算符 |
| 15 | `=` `+=` `-=` `*=` `/=` `%=` `>>=` `<<=` `&=` `^=` `\|=` | 赋值运算符 |
| 16 | `,` | 逗号运算符 |
